(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[41],{ffuz:function(e,t,a){e.exports={rankingList:"antd-pro-pages-log-msalog-rankingList",rankingItemNumber:"antd-pro-pages-log-msalog-rankingItemNumber",active:"antd-pro-pages-log-msalog-active",rankingItemNumber1:"antd-pro-pages-log-msalog-rankingItemNumber1",rankingItemTitle:"antd-pro-pages-log-msalog-rankingItemTitle",standardList:"antd-pro-pages-log-msalog-standardList",headerInfo:"antd-pro-pages-log-msalog-headerInfo",listContent:"antd-pro-pages-log-msalog-listContent",listContentItem:"antd-pro-pages-log-msalog-listContentItem",extraContentSearch:"antd-pro-pages-log-msalog-extraContentSearch",listCard:"antd-pro-pages-log-msalog-listCard",standardListForm:"antd-pro-pages-log-msalog-standardListForm",formResult:"antd-pro-pages-log-msalog-formResult",salesExtra:"antd-pro-pages-log-msalog-salesExtra",currentDate:"antd-pro-pages-log-msalog-currentDate",salesName:"antd-pro-pages-log-msalog-salesName",salesCard:"antd-pro-pages-log-msalog-salesCard",salesBar:"antd-pro-pages-log-msalog-salesBar",salesRank:"antd-pro-pages-log-msalog-salesRank",salesCardExtra:"antd-pro-pages-log-msalog-salesCardExtra",salesTypeRadio:"antd-pro-pages-log-msalog-salesTypeRadio",offlineCard:"antd-pro-pages-log-msalog-offlineCard",twoColLayout:"antd-pro-pages-log-msalog-twoColLayout",trendText:"antd-pro-pages-log-msalog-trendText",rankingTitle:"antd-pro-pages-log-msalog-rankingTitle",salesExtraWrap:"antd-pro-pages-log-msalog-salesExtraWrap"}},huMQ:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r,l=a("bx4M"),s=a("2Taf"),i=a.n(s),o=a("vZ4D"),c=a.n(o),d=a("MhPg"),u=a.n(d),p=a("l4Ni"),m=a.n(p),f=a("ujKo"),h=a.n(f),y=(a("y8nQ"),a("Vl3Y")),g=(a("Znn+"),a("ZTPi")),b=a("q1tI"),v=a.n(b),E=a("MuoO"),k=(a("Y2fQ"),a("wd/R")),S=a.n(k),T=(a("zHco"),a("2qtc"),a("kLXV")),w=(a("g9YV"),a("wCAj")),D=(a("14J3"),a("BMrR")),C=(a("qVdP"),a("jsC+")),I=(a("lUTK"),a("BvKs")),x=(a("miYZ"),a("tsqr")),q=(a("5NDa"),a("5rEg")),R=(a("Y+p1"),a("jJ9M")),M=a.n(R),P=a("+kNj"),A=(a("ozfa"),a("MJZm"));function O(e){var t=F();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}P["a"].Description;var W,N,L=A["a"].TreeNode,Y=A["a"].DirectoryTree,j=(n=y["a"].create(),n(r=function(e){u()(a,e);var t=O(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={expandedKeys:[],searchValue:"",autoExpandParent:!0},e.onSelect=function(e,t){console.log("Trigger Select",e,t)},e.onExpand=function(){console.log("Trigger Expand")},e}return c()(a,[{key:"componentDidMount",value:function(){this.props.dispatch}},{key:"render",value:function(){return v.a.createElement("div",null,v.a.createElement(Y,{multiple:!0,defaultExpandAll:!0,onSelect:this.onSelect,onExpand:this.onExpand},v.a.createElement(L,{title:"parent 1",key:"0-0"},v.a.createElement(L,{title:"parent 1-0",key:"0-0-0"},v.a.createElement(L,{title:"leaf",key:"0-0-0-0"}),v.a.createElement(L,{title:"leaf",key:"0-0-0-1"}),v.a.createElement(L,{title:"leaf",key:"0-0-0-2"})),v.a.createElement(L,{title:"parent 1-1",key:"0-0-1"},v.a.createElement(L,{title:"leaf",key:"0-0-1-0"})),v.a.createElement(L,{title:"parent 1-2",key:"0-0-2"},v.a.createElement(L,{title:"leaf",key:"0-0-2-0"}),v.a.createElement(L,{title:"leaf",key:"0-0-2-1"})))))}}]),a}(b["PureComponent"])),a("bbsP"),a("/wGt")),V=(a("Pwec"),a("CtXQ")),Q=(a("bP8k"),a("gFTJ"));function H(e){var t=K();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}A["a"].TreeNode,q["a"].Search;var J,B,z=q["a"].TextArea,U=(W=y["a"].create(),W(N=function(e){u()(a,e);var t=H(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={treeData:[],seqId:"",result:""},e}return c()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;console.log("this.props.reqId====",this.props.reqId);var a=["time",1];t({type:"msalog/LogDetailsFetch",payload:{reqId:this.props.reqId,filterId:null,sort:a,fields:null},callback:function(t){console.log("====48e====",t);var a=[];t.data.forEach(function(e,t){"request"==e.tips?a[0]=e:"enter"==e.tips?a[1]=e:"leave"==e.tips?a[2]=e:"result"==e.tips&&(a[3]=e)}),console.log("====55-===",a);var n=[];a.forEach(function(e){Object.keys(e)?(n.push(e),console.log("=====67====",e)):console.log("======69===")}),console.log("==73===",n),e.setState({treeData:n})}})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.unitListVisible,t.unitRow,t.handleUnitModalVisible,this.state);a.searchValue,a.expandedKeys,a.autoExpandParent;console.log("===ddd==",this.state.treeData);var n=function(e){return v.a.createElement(I["a"],{style:{width:"385px"}},v.a.createElement(z,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},r=[{title:"\u52a8\u4f5c",dataIndex:"tips",key:"tips",width:"15%"},{title:"\u65f6\u95f4",dataIndex:"time",width:"20%",key:"time",render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getHours(),l=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),l>=0&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r),t.getFullYear()+"-"+a+"-"+n+" "+r+":"+l+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",width:"25%",key:"addr"},{title:"\u5e94\u7528\u5206\u7c7b",dataIndex:"tag",width:"20%",key:"tag"},{title:"\u5e94\u7528ID",dataIndex:"app",width:"20%",key:"app"}],l=null,s="",i=0,o=this.state.treeData;console.log("===data===",o),o.forEach(function(t){console.log(t),console.log("====tips==",t.tips),"request"==t.tips&&e.setState({seqId:t.body.seqId}),"result"==t.tips?0===t.body.resCode?(l=0,s="",i=t.body.time):(l=-1,s=t.body.errMsg,i=t.body.time):"leave"==t.tips&&(0===t.body.resCode?(l=0,s="",i=t.body.time):(l=-1,s=t.body.errMsg,i=t.body.time))}),console.log("====rescode==",l),console.log("====result==",s);var c=this.props.service+"#"+this.props.entry;return v.a.createElement("div",null,v.a.createElement(Q["a"],null,v.a.createElement(Q["a"].Item,{label:"reqId"},this.props.reqId),v.a.createElement(Q["a"].Item,{label:"seqId"},this.state.seqId),v.a.createElement(Q["a"].Item,{label:"\u670d\u52a1\u63a5\u53e3"},c),v.a.createElement(Q["a"].Item,{label:"\u8017\u65f6"},i),v.a.createElement(Q["a"].Item,{label:"\u7ed3\u679c"},0===l?v.a.createElement(V["a"],{style:{color:"#52c41a"},type:"check"}):v.a.createElement("div",null,v.a.createElement(C["a"],{overlay:n(s)},v.a.createElement("div",null,v.a.createElement("a",null,v.a.createElement("span",null,s.substring(0,50)+"..."))))))),v.a.createElement(w["a"],{style:{marginTop:"24px"},columns:r,dataSource:o,pagination:!1}))}}]),a}(b["PureComponent"]))||N),G=Object(E["connect"])(function(e){return e.ss})(y["a"].create()(U));function Z(e){var t=X();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function X(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}A["a"].TreeNode,q["a"].Search;var $,ee,te,ae=(J=y["a"].create(),J(B=function(e){u()(a,e);var t=Z(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={treeData:[],visible:!1,tableKey:1,loadingstatus:!0,genjiedian:""},e.query=function(){console.log("======\u65e5\u5fd7\u8ddf\u8e2a========");var t=e.props.dispatch;t({type:"msalog/TrackLogDetailsFetch",payload:{sort:["time",1],fields:null,reqId:e.props.reqId,filterId:null},callback:function(a){0===a.code?(console.log("=====50==",a.data),e.setState({genjiedian:a.data}),t({type:"msalog/trackLogDetails",payload:{sort:["time",1],reqId:a.data},callback:function(t){0===t.code&&e.setState({treeData:t.data,tableKey:2,loadingstatus:!1})}})):x["a"].error("\u65e5\u5fd7\u8ddf\u8e2a\u5931\u8d25\uff1a\u8ddf\u8282\u70b9\u67e5\u627e\u9519\u8bef\uff01")}})},e.state={expandedKeys:[],searchValue:"",checkedKeys:["1.1"],selectedKeys:[]},e.onSelect=function(t,a,n){var r=[];r.push(v.a.createElement(G,{reqId:t,service:a,entry:n,key:Math.random()})),e.setState({visible:!0,info:r})},e.onExpand=function(t){e.setState({expandedKeys:t})},e.onClose=function(){e.setState({visible:!1},function(){e.query()})},e}return c()(a,[{key:"componentDidMount",value:function(){this.query()}},{key:"getParnentTree",value:function(e,t,a){var n=this;_.forEach(a,function(r){console.log("====e===",r),console.log("====id===",JSON.stringify(e)),console.log("====JSON.stringify(e.parentId)===",JSON.stringify(r.parentId)),JSON.stringify(e)==JSON.stringify(r.parentId)&&(r.children=[],t.push(r),n.getParnentTree(r.Id,r.children,a))})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.unitListVisible,t.unitRow,t.handleUnitModalVisible,this.state),n=(a.searchValue,a.expandedKeys,a.autoExpandParent,this.state.treeData);console.log("=====114===",n);var r=new Array;if(void 0==n);else{var l=this.state.genjiedian,s=[];_.forEach(n,function(t){console.log("=====JSON.stringify(parent)===",JSON.stringify(l)),console.log("=====JSON.stringify(o.Id)===",JSON.stringify(t.Id)),JSON.stringify(l)==JSON.stringify(t.Id)&&(console.log("=====true==="),t.children=[],e.getParnentTree(t.Id,t.children,n),console.log("====o====",t),s.push(t))}),s=this.state.treeData,console.log("===treeArr==",s),void 0==s||0===s.length||r.push(s[0])}console.log("===list==",r);var i=[{title:"\u670d\u52a1\u540d",dataIndex:"service",key:"service",width:"20%",render:function(t,a){var n=e.props.reqId,r=a.Id;return n==r?v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{style:{color:"#1890ff"}},a.service)):a.service}},{title:"\u63a5\u53e3\u540d",dataIndex:"entry",key:"entry",width:"20%",render:function(t,a){var n=e.props.reqId,r=a.Id;return n==r?v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{style:{color:"#1890ff"}},a.entry)):a.entry}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"25%",render:function(t,a){var n=e.props.reqId,r=a.Id;return n==r?v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{style:{color:"#1890ff"}},a.addr)):a.addr}},{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"25%",render:function(t,a){var n=e.props.reqId,r=a.Id,l=a.time,s=l.toString().substring(10,13);return n==r?v.a.createElement(v.a.Fragment,null,v.a.createElement("span",{style:{color:"#1890ff"}},S()(l).format("YYYY-MM-DD HH:mm:ss")+"."+s)):S()(l).format("YYYY-MM-DD HH:mm:ss")+"."+s}},{title:"\u64cd\u4f5c",align:"center",key:"action",width:"10%",render:function(t){return v.a.createElement("span",null,v.a.createElement("a",{onClick:e.onSelect.bind(e,t.Id,t.service,t.entry)},"\u8be6\u60c5"))}}];return console.log("======266===",this.state.loadingstatus),v.a.createElement("div",null,v.a.createElement(w["a"],{columns:i,dataSource:r,pagination:!1,key:this.state.tableKey,defaultExpandAllRows:!0,loading:void 0==this.state.loadingstatus}),v.a.createElement(j["a"],{title:"\u8bf7\u6c42\u8be6\u60c5",placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info))}}]),a}(b["PureComponent"]))||B),ne=Object(E["connect"])(function(e){return e.ss})(y["a"].create()(ae));function re(e){var t=le();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function le(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}P["a"].Description;var se=q["a"].TextArea,ie=($=Object(E["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/aggregatefetch"]}}),ee=y["a"].create(),$(te=ee(te=function(e){u()(a,e);var t=re(a);function a(){var e;i()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),e.state={data:[],display:"block",visible:!1,rqdisplay:"none",webappdisplay:"none"},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(t){console.log(t),e.setState({visible:!1})},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e}return c()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;console.log("===1====",this.props.rq),console.log("===2====",this.props.webapp),console.log("===3====",this.props.StartTime),console.log("===4====",this.props.EndTime);var a=this.props.rq,n=this.props.webapp,r="";console.log("---rq---",a),console.log("---webapp---",n),""===a&&""===n?(r="",this.setState({display:"block"})):""!=a?(console.log("00000"),r=a,this.setState({rqdisplay:"block",webappdisplay:"none"})):""!=n&&(console.log("1111"),r=n,this.setState({webappdisplay:"block",rqdisplay:"none"})),t({type:"msalog/logFetch",payload:{StartTime:this.props.StartTime,EndTime:this.props.EndTime,limit:10,skip:1,addr:r},callback:function(){var t=e.props,a=t.msalog;t.loading;console.log("====msalog====",a);var n=a.data.code;if(200===n){var r=a.data.datas;console.log("msa=====",r.res),e.setState({data:r.res,amount:r.rescount})}else x["a"].error("")}})}},{key:"render",value:function(){var e=this,t=function(e){return v.a.createElement(I["a"],{style:{width:"385px"}},v.a.createElement(se,{rows:16,disabled:!0,value:JSON.stringify(e,null,"\t"),style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},a=[{title:"\u65f6\u95f4\uff08\u6beb\u79d2\uff09",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getHours(),l=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),l>=0&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r),t.getFullYear()+"-"+a+"-"+n+" "+r+":"+l+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u65e5\u5fd7\u7c7b\u578b",dataIndex:"type",key:"type",width:"10%",render:function(e){return-6===e?"access":-5===e?"action":-4===e?"error":-3===e?"warn":-2===e?"info":-1===e?"debug":"\u5176\u4ed6"}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"10%"},{title:"\u5e94\u7528\u5206\u7c7b",dataIndex:"tag",key:"tag",width:"10%"},{title:"\u5e94\u7528ID",dataIndex:"app",key:"app",width:"15%"},{title:"\u65e5\u5fd7\u8bf4\u660e",dataIndex:"tips",key:"tips",width:"10%"},{title:"\u65e5\u5fd7\u5185\u5bb9",dataIndex:"body",key:"body",width:"20%",render:function(a,n){var r=JSON.stringify(a);return v.a.createElement("div",null,v.a.createElement(C["a"],{overlay:t(a)},v.a.createElement("div",null,v.a.createElement("a",{onClick:e.showModal},v.a.createElement("span",null,r.substring(0,50)+"...")))))}}];return v.a.createElement(b["Fragment"],null,v.a.createElement("h4",{style:{display:this.state.rqdisplay}},"\u5bb9\u5668"),v.a.createElement(D["a"],null),v.a.createElement("h4",{style:{display:this.state.webappdisplay}},"WebApp"),v.a.createElement("h4",{style:{display:""===this.state.webapp?"block":"none"}},"\u9519\u8bef\u65e5\u5fd7"),v.a.createElement(w["a"],{columns:a,dataSource:this.state.data,pagination:!0,style:{display:this.state.display}}),v.a.createElement(T["a"],{title:"Basic Modal",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,destroyOnClose:!0,footer:null,width:700},v.a.createElement(ne,null)))}}]),a}(b["PureComponent"]))||te),a("v99g"),a("+n12")),oe=(a("DjyN"),a("NUBc")),ce=(a("+L6B"),a("2/Rp")),de=(a("jCWc"),a("kPKH")),ue=(a("/zsF"),a("PArb")),pe=(a("iQDF"),a("+eQT")),me=(a("sRBo"),a("kaz8")),fe=(a("OaEy"),a("2fM7")),he=a("ffuz"),ye=a.n(he),ge=a("yP6+"),be=a("1Gbu"),ve=a.n(be),Ee=a("cQSq"),ke=a.n(Ee);function Se(e){var t=Te();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function Te(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var we,De,Ce,Ie;v.a.Component;function xe(e){var t=qe();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Re,Me,Pe,Ae,Oe=v.a.lazy(function(){return a.e(7).then(a.bind(null,"4S9z"))}),Fe=(v.a.lazy(function(){return a.e(6).then(a.bind(null,"4VBN"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"CmJS"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"MdSA"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"52lG"))}),y["a"].Item),We=fe["a"].Option,Ne=q["a"].TextArea,Le=(me["a"].Group,pe["a"].MonthPicker,pe["a"].RangePicker),Ye=g["a"].TabPane,je=(we=Object(E["connect"])(function(e){var t=e.chart,a=e.loading;return{chart:t,loading:a.effects["chart/fetch"]}}),De=Object(E["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/fetch"]}}),Ce=y["a"].create(),we(Ie=De(Ie=Ce(Ie=function(e){u()(a,e);var t=xe(a);function a(e){var n;return i()(this,a),n=t.call(this,e),n.TableCallback=function(e){console.log("===Tablekey==",e),n.setState({type:e},function(){n.TabsCallback(n.state.Tabskey)})},n.TabsCallback=function(e){console.log("===key==",e);var t=n.state.type;n.state.RqOrWebApp;console.log("===type==",t);var a=n.props,r=a.form.validateFieldsAndScroll,l=a.dispatch;r(function(a,r){console.log("====Formvalues===",r);var s=r.Fwcheckbox,i=(r.Rqcheckbox,r.WebApp,r.time);console.log("====time===",i);var o=r.type,c=r.reqId,d=r.JKM,u="",p="";if(void 0===i||"undefined"==i||0===i.length){for(var m=[],f=0;f<30;f++)m.unshift(new Date((new Date).setDate((new Date).getDate()-f)).toLocaleDateString());n.setState({thrityMonth:m});var h=m[0];u=(new Date).getTime();var y=h+" 00:00:00:000";y=y.substring(0,19),y=y.replace(/-/g,"/"),p=new Date(y).getTime()}else p=S()(i[0],"YYYY-MM-DD HH:mm:ss").valueOf(),u=S()(i[1],"YYYY-MM-DD HH:mm:ss").valueOf();var g="";g=void 0===s?"":s.join(",");var b="";if(b=void 0===d?"":d.join(","),"3"==t){n.setState({selectdisplay:"block",logType:o});var v=["time",-1];l({type:"msalog/findLogList",payload:{filterId:null,StartTime:u,EndTime:p,limit:10,skip:0,type:void 0==o?1:1*o,ServiceName:""==g?null:g,entry:""==b?null:b,sort:v,reqID:void 0==c?null:c,fields:null},callback:function(e){if(console.log("187e====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),n.setState({data:t.res,amount:t.rescount,StartTime:u,EndTime:p,QueryServiceName:g,Queryentry:b,QueryreqId:c})}else x["a"].error("")}})}else n.setState({selectdisplay:"none"}),console.log("ServiceName==",g),console.log("entry==",b),l({type:"msalog/queryServiceCount",payload:{filterId:null,ServiceName:""==g?null:g,StartTime:1*u,EndTime:1*p,type:1*t,entry:""==b?null:b},callback:function(e){if(0===e.code){var t=e.data;n.setState({fwl:t.res,flag:1})}else x["a"].error("\u67e5\u8be2\u6570\u636e\u9519\u8bef\uff01")}});n.setState({Tabskey:e})})},n.handleChangeSalesType=function(e){n.setState({salesType:e.target.value})},n.handleTabChange=function(e){n.setState({currentTabKey:e})},n.handleRangePickerChange=function(e){var t=n.props.dispatch;n.setState({rangePickerValue:e}),t({type:"chart/fetchSalesData"})},n.selectDate=function(e){var t=n.props.dispatch;n.setState({rangePickerValue:Object(ie["b"])(e)}),t({type:"chart/fetchSalesData"})},n.isActive=function(e){var t=n.state.rangePickerValue,a=Object(ie["b"])(e);return t[0]&&t[1]&&t[0].isSame(a[0],"day")&&t[1].isSame(a[1],"day")?M.a.currentDate:""},n.onClose=function(){n.setState({visible:!1})},n.handleFormReset=function(){var e=n.props,t=e.form;e.dispatch;t.resetFields(),n.setState({Fwcheckbox:"",JKM:"",time:"",Rqcheckbox:"",WebApp:""})},n.WfwonChange=function(e){console.log("===e===",e),e.length>1?n.setState({jkmDisabled:!0}):(n.setState({jkmDisabled:!1}),console.log("=====this.state.WFUService==",n.state.WFUService),n.setState({cities:1===e.length?n.state.WFUService[e[0]]:[]}))},n.showModal=function(e,t,a,r){var l=[];1===r?(n.setState({titleMsg:"\u65e5\u5fd7\u8ddf\u8e2a"}),l.push(v.a.createElement(ne,{reqId:e,service:t,entry:a,StartTime:n.state.StartTime,EndTime:n.state.EndTime,key:Math.random()}))):2===r&&(n.setState({titleMsg:"\u8bf7\u6c42\u8be6\u60c5"}),l.push(v.a.createElement(G,{reqId:e,service:t,entry:a,StartTime:n.state.StartTime,EndTime:n.state.EndTime,key:Math.random()}))),n.setState({visible:!0,reqId:e,info:l})},n.onChange=function(e){console.log("Page: ",e),n.query(e)},n.query=function(e){var t=["time",-1],a=n.props.dispatch;a({type:"msalog/findLogList",payload:{filterId:null,StartTime:n.state.StartTime,EndTime:n.state.EndTime,limit:10,skip:10*(e-1),type:void 0==n.state.logType?1:1*n.state.logType,ServiceName:""==n.state.QueryServiceName?null:n.state.QueryServiceName,entry:""==n.state.Queryentry?null:n.state.Queryentry,sort:t,reqID:void 0==n.state.QueryreqId?null:n.state.QueryreqId,fields:null},callback:function(e){if(0===e.code){var t=e.data;console.log("msa=====",t.res),n.setState({data:t.res,amount:t.rescount})}else x["a"].error("")}})},n.state={div2:"block",div1:"none",salesType:"all",jkmDisabled:!1,selectdisplay:"none",logType:1,titleMsg:"",currentTabKey:"",visible:!1,QueryServiceName:"",Queryentry:"",QueryreqId:"",rangePickerValue:Object(ie["b"])("year"),cities:[],WFUService:{},WebAppfwl:[],EndTime:"",StartTime:"",container:[],fwl:[],flag:"",monthkey:"",rqfwl:[],RqOrWebApp:"1",describe:"\u5c55\u5f00",IconType:"up",type:"1",ErrorRes:[],service:"",OpenService:"",expandForm:!1,disabled:"none",thrityMonth:[],rq_name:"",webapp_name:"",WebAppList:[]},n}return c()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"msalog/ServiceFetch",payload:{host:null,port:0},callback:function(t){if(console.log("=====78e===",t),0===t.code){var a=t.data,n=new Array;for(var r in a)n.push(r);e.setState({service:n.sort(),OpenService:n,WFUService:a})}}}),this.TabsCallback("1")}},{key:"range",value:function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.rangePickerValue,r=(a.salesType,a.currentTabKey,a.service),s=(a.container,a.WebAppList,this.props),i=s.chart,o=s.loading,c=(i.visitData,i.visitData2,i.salesData);i.searchData,i.offlineData,i.offlineChartData,i.salesTypeData,i.salesTypeDataOnline,i.salesTypeDataOffline;if(""==r);else for(var d=[],u=0;u<r.length;u++)d.push(v.a.createElement(We,{key:r[u]},r[u]));var p=function(e){return v.a.createElement(I["a"],{style:{width:"385px"}},v.a.createElement(Ne,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},m=[{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getHours(),l=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),l>=0&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r),t.getFullYear()+"-"+a+"-"+n+" "+r+":"+l+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"20%"},{title:"\u670d\u52a1\u63a5\u53e3",dataIndex:"service",key:"service",width:"20%",render:function(e,t){return v.a.createElement("div",null,v.a.createElement("span",null,t.body.service+"#"+t.body.entry))}},{title:"\u8017\u65f6",dataIndex:"body",key:"body",width:"10%",sorter:function(e,t){return e.time-t.time},render:function(e,t){return v.a.createElement("div",null,v.a.createElement("span",null,t.body.time))}},{title:"\u7ed3\u679c",dataIndex:"body",key:"body",width:"15%",render:function(e,t){return console.log("======record====",t),0===e.resCode?v.a.createElement(V["a"],{style:{color:"#52c41a"},type:"check"}):v.a.createElement("div",null,v.a.createElement(C["a"],{overlay:p(e.errMsg)},v.a.createElement("div",null,v.a.createElement("a",null,v.a.createElement("span",null,void 0==e.errMsg?"":e.errMsg.substring(0,50)+"...")))))}},{title:"\u64cd\u4f5c",width:"20%",render:function(t,a){return v.a.createElement(b["Fragment"],null,v.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,1)},"\u65e5\u5fd7\u8ddf\u8e2a"),v.a.createElement(ue["a"],{type:"vertical"}),v.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,2)},"\u8bf7\u6c42\u8be6\u60c5"))}}];return v.a.createElement("div",{className:ye.a.standardList},v.a.createElement(l["a"],{bordered:!1},v.a.createElement(D["a"],{span:24},v.a.createElement(y["a"],{onSubmit:this.handleSearch,layout:"inline"},v.a.createElement(de["a"],{span:10},v.a.createElement(Fe,{label:"\u5fae\u670d\u52a1\u540d"},t("Fwcheckbox",{})(v.a.createElement(fe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165\u670d\u52a1\u540d\u6216\u8005\u9009\u62e9\u670d\u52a1\u540d\uff01",allowClear:!0,onChange:this.WfwonChange.bind(this)},d)))),v.a.createElement(de["a"],{span:10},v.a.createElement(Fe,{label:"\u63a5\u53e3\u540d\u79f0"},t("JKM",{})(v.a.createElement(fe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3\u540d\u6216\u8005\u9009\u62e9\u63a5\u53e3\u540d\uff01",allowClear:!0,disabled:this.state.jkmDisabled},this.state.cities.map(function(e){return v.a.createElement(We,{key:e},e)}))))),v.a.createElement(de["a"],{span:4},v.a.createElement(ce["a"],{type:"primary",onClick:this.TabsCallback.bind(this,"1")},"\u67e5\u8be2")))),v.a.createElement(D["a"],{span:24,style:{marginTop:"12px"}},v.a.createElement(y["a"],{layout:"inline"},v.a.createElement(de["a"],{span:10},v.a.createElement(Fe,{label:"\u9009\u62e9\u65e5\u671f"},t("time",{})(v.a.createElement(Le,{style:{width:"250px"},showTime:{hideDisabledOptions:!0,defaultValue:[S()("00:00:00","HH:mm:ss"),S()("23:59:59","HH:mm:ss")]}})))),v.a.createElement(de["a"],{span:10,style:{display:this.state.selectdisplay}},v.a.createElement(Fe,{label:"\u65e5\u5fd7\u7ed3\u679c"},t("type",{})(v.a.createElement(fe["a"],{style:{width:250}},v.a.createElement(We,{value:"1"},"\u5168\u90e8"),v.a.createElement(We,{value:"2"},"\u5931\u8d25"))))),v.a.createElement(de["a"],{span:4,style:{paddingLeft:"block"==this.state.selectdisplay?"0%":"41.5%"}},v.a.createElement(ce["a"],{onClick:this.handleFormReset},"\u91cd\u7f6e")))),v.a.createElement(D["a"],{span:24},v.a.createElement(y["a"],{layout:"inline"},v.a.createElement(de["a"],{span:12,style:{display:this.state.selectdisplay}},v.a.createElement(Fe,{label:"\u8bf7\u6c42ID"},t("reqId",{})(v.a.createElement(q["a"],{style:{width:"250px"}})))))),v.a.createElement(g["a"],{defaultActiveKey:"1",onChange:this.TableCallback.bind()},v.a.createElement(Ye,{tab:"\u8bf7\u6c42\u7edf\u8ba1",key:"1"},v.a.createElement(D["a"],null,v.a.createElement(b["Suspense"],{fallback:null},v.a.createElement(Oe,{rangePickerValue:n,salesData:c,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate,fwl:this.state.fwl,flag:this.state.flag})))),v.a.createElement(Ye,{tab:"\u5931\u8d25\u7edf\u8ba1",key:"2"},v.a.createElement(D["a"],null,v.a.createElement(b["Suspense"],{fallback:null},v.a.createElement(Oe,{rangePickerValue:n,salesData:c,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate,fwl:this.state.fwl,flag:this.state.flag})))),v.a.createElement(Ye,{tab:"\u65e5\u5fd7\u5217\u8868",key:"3"},v.a.createElement(w["a"],{columns:m,dataSource:this.state.data,pagination:!1}),v.a.createElement(oe["a"],{style:{paddingTop:"24px",textAlign:"center"},showQuickJumper:!0,defaultCurrent:1,total:this.state.amount,onChange:this.onChange.bind()})))),v.a.createElement(j["a"],{title:this.state.titleMsg,placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info))}}]),a}(b["PureComponent"]))||Ie)||Ie)||Ie),Ve=je;function Qe(e){var t=He();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function He(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}v.a.lazy(function(){return a.e(7).then(a.bind(null,"4S9z"))});var Ke,Je,Be,ze,Ue=v.a.lazy(function(){return a.e(6).then(a.bind(null,"4VBN"))}),_e=(v.a.lazy(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"CmJS"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"MdSA"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"52lG"))}),y["a"].Item),Ge=fe["a"].Option,Ze=q["a"].TextArea,Xe=(me["a"].Group,pe["a"].MonthPicker,pe["a"].RangePicker),$e=g["a"].TabPane,et=(Re=Object(E["connect"])(function(e){var t=e.chart,a=e.loading;return{chart:t,loading:a.effects["chart/fetch"]}}),Me=Object(E["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/fetch"]}}),Pe=y["a"].create(),Re(Ae=Me(Ae=Pe(Ae=function(e){u()(a,e);var t=Qe(a);function a(e){var n;return i()(this,a),n=t.call(this,e),n.onClose=function(){n.setState({visible:!1})},n.showModal=function(e,t,a,r){console.log("===reqId===",e);var l=[];1===r?(n.setState({titleMsg:"\u65e5\u5fd7\u8ddf\u8e2a"}),l.push(v.a.createElement(ne,{reqId:e,service:t,entry:a,StartTime:n.state.StartTime,EndTime:n.state.EndTime,key:Math.random()}))):2===r&&(n.setState({titleMsg:"\u8bf7\u6c42\u8be6\u60c5"}),l.push(v.a.createElement(G,{reqId:e,service:t,entry:a,StartTime:n.state.StartTime,EndTime:n.state.EndTime,key:Math.random()}))),n.setState({visible:!0,reqId:e,info:l})},n.TableCallback=function(e){console.log("===Tablekey==",e),n.setState({type:e},function(){n.TabsCallback(n.state.Tabskey)})},n.TabsCallback=function(e){console.log("===key==",e);var t=n.state.type;n.state.RqOrWebApp;console.log("===type==",t);var a=n.props,r=a.form.validateFieldsAndScroll,l=a.dispatch;r(function(a,r){console.log("====Formvalues===",r);r.Fwcheckbox;var s=r.Rqcheckbox,i=(r.WebApp,r.time),o=(r.JKM,""),c="";if(void 0===i||"undefined"==i||0===i.length){for(var d=[],u=0;u<30;u++)d.unshift(new Date((new Date).setDate((new Date).getDate()-u)).toLocaleDateString());n.setState({thrityMonth:d});var p=d[0];o=(new Date).getTime();var m=p+" 00:00:00:000";m=m.substring(0,19),m=m.replace(/-/g,"/"),c=new Date(m).getTime()}else c=S()(i[0],"YYYY-MM-DD HH:mm:ss").valueOf(),o=S()(i[1],"YYYY-MM-DD HH:mm:ss").valueOf();var f=null;if(f=void 0===s?null:s.join(","),"3"==t){var h=["time",-1];n.setState({selectdisplay:"block"}),l({type:"msalog/findContainerLogList",payload:{filterId:null,StartTime:1*o,EndTime:1*c,limit:10,skip:0,type:void 0==r.type?1:1*r.type,Container:f,sort:h,reqID:void 0==r.reqId?null:r.reqId,fields:null},callback:function(e){if(console.log("=====182e=====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),n.setState({containerDataList:t.res,amount:t.rescount,StartTime:1*o,EndTime:1*c,QueryRQName:f})}else x["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})}else n.setState({selectdisplay:"none"}),l({type:"msalog/RQaggregatefetch",payload:{filterId:null,RqName:f,StartTime:1*o,EndTime:1*c,type:1*t},callback:function(e){if(console.log("=====e147=====",e),0===e.code){var t=e.data;n.setState({rqfwl:t.RqRes,flag:1})}else x["a"].error("\u5bb9\u5668\u65e5\u5fd7\u67e5\u8be2\u5931\u8d25\uff01")}});n.setState({Tabskey:e})})},n.handleChangeSalesType=function(e){n.setState({salesType:e.target.value})},n.handleTabChange=function(e){n.setState({currentTabKey:e})},n.handleRangePickerChange=function(e){var t=n.props.dispatch;n.setState({rangePickerValue:e}),t({type:"chart/fetchSalesData"})},n.selectDate=function(e){var t=n.props.dispatch;n.setState({rangePickerValue:Object(ie["b"])(e)}),t({type:"chart/fetchSalesData"})},n.isActive=function(e){var t=n.state.rangePickerValue,a=Object(ie["b"])(e);return t[0]&&t[1]&&t[0].isSame(a[0],"day")&&t[1].isSame(a[1],"day")?M.a.currentDate:""},n.onClose=function(){n.setState({visible:!1})},n.handleFormReset=function(){var e=n.props,t=e.form;e.dispatch;t.resetFields(),n.setState({Fwcheckbox:"",JKM:"",time:"",Rqcheckbox:"",WebApp:""})},n.WfwonChange=function(e){console.log("===e===",e),e.length>1?n.setState({jkmDisabled:!0}):(n.setState({jkmDisabled:!1}),console.log("=====this.state.WFUService==",n.state.WFUService),n.setState({cities:1===e.length?n.state.WFUService[e[0]]:[]}))},n.onChange=function(e){console.log("Page: ",e),n.query(e)},n.query=function(e){var t=["time",-1],a=n.props.dispatch;a({type:"msalog/findContainerLogList",payload:{filterId:null,StartTime:n.state.StartTime,EndTime:n.state.EndTime,limit:10,skip:10*(e-1),type:1,Container:n.state.QueryRQName,sort:t,reqID:null,fields:null},callback:function(e){if(console.log("=====182e=====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),n.setState({containerDataList:t.res,amount:t.rescount})}else x["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})},n.state={div2:"block",div1:"none",QueryRQName:"",salesType:"all",jkmDisabled:!1,currentTabKey:"",visible:!1,containerDataList:[],rangePickerValue:Object(ie["b"])("year"),cities:[],WFUService:{},WebAppfwl:[],container:[],fwl:[],flag:"",monthkey:"",rqfwl:[],RqOrWebApp:"1",describe:"\u5c55\u5f00",IconType:"up",type:"1",ErrorRes:[],service:"",OpenService:"",expandForm:!1,disabled:"none",thrityMonth:[],rq_name:"",webapp_name:"",WebAppList:[]},n}return c()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"msalog/fetch",payload:{continer:null,status:"0",currentPage:0,pageSize:0},callback:function(t){console.log("===e75=====",t),e.setState({container:t})}}),this.TabsCallback("2")}},{key:"range",value:function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.rangePickerValue,r=(a.salesType,a.currentTabKey,a.service,a.container),s=(a.WebAppList,this.props),i=s.chart,o=s.loading,c=(i.visitData,i.visitData2,i.salesData);i.searchData,i.offlineData,i.offlineChartData,i.salesTypeData,i.salesTypeDataOnline,i.salesTypeDataOffline;if(""==r);else for(var d=[],u=0;u<r.length;u++)d.push(v.a.createElement(Ge,{key:r[u]},r[u]));var p=function(e){return v.a.createElement(I["a"],{style:{width:"385px"}},v.a.createElement(Ze,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},m=[{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getHours(),l=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),l>=0&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r),t.getFullYear()+"-"+a+"-"+n+" "+r+":"+l+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"20%"},{title:"\u670d\u52a1\u63a5\u53e3",dataIndex:"service",key:"service",width:"20%",render:function(e,t){return v.a.createElement("div",null,v.a.createElement("span",null,t.body.service+"#"+t.body.entry))}},{title:"\u8017\u65f6",dataIndex:"body",key:"body1",width:"10%",sorter:function(e,t){return e.time-t.time},render:function(e,t){return v.a.createElement("div",null,v.a.createElement("span",null,t.body.time))}},{title:"\u7ed3\u679c",dataIndex:"body",key:"body",width:"15%",render:function(e,t){return console.log("====text===",e),0===e.resCode?v.a.createElement(V["a"],{style:{color:"#52c41a"},type:"check"}):v.a.createElement("div",null,v.a.createElement(C["a"],{overlay:p(e.errMsg)},v.a.createElement("div",null,v.a.createElement("a",null,v.a.createElement("span",null,e.errMsg.substring(0,50)+"...")))))}},{title:"\u64cd\u4f5c",width:"20%",render:function(t,a){return console.log("=====record==",a),v.a.createElement(b["Fragment"],null,v.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,1)},"\u65e5\u5fd7\u8ddf\u8e2a"),v.a.createElement(ue["a"],{type:"vertical"}),v.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,2)},"\u8bf7\u6c42\u8be6\u60c5"))}}];return v.a.createElement("div",{className:ye.a.standardList},v.a.createElement(l["a"],{bordered:!1},v.a.createElement(D["a"],null,v.a.createElement(y["a"],{onSubmit:this.handleSearch,layout:"inline"},v.a.createElement(D["a"],{span:24},v.a.createElement(de["a"],{span:9},v.a.createElement(_e,{label:"\u5bb9\u5668\u540d\u79f0"},t("Rqcheckbox",{})(v.a.createElement(fe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165\u5bb9\u5668\u540d\u79f0\u6216\u8005\u9009\u62e9\u5bb9\u5668\u540d\u79f0\uff01",allowClear:!0},d)))),v.a.createElement(de["a"],{span:12},v.a.createElement(_e,{label:"\u9009\u62e9\u65e5\u671f"},t("time",{})(v.a.createElement(Xe,{showTime:{hideDisabledOptions:!0,defaultValue:[S()("00:00:00","HH:mm:ss"),S()("23:59:59","HH:mm:ss")]}})))),v.a.createElement(de["a"],{span:3},v.a.createElement(ce["a"],{type:"primary",onClick:this.TabsCallback.bind(this,"2")},"\u67e5\u8be2"))),v.a.createElement(D["a"],{span:24},v.a.createElement(de["a"],{span:9,style:{display:this.state.selectdisplay}},v.a.createElement(_e,{label:"\u8bf7\u6c42  ID"},t("reqId",{})(v.a.createElement(q["a"],{style:{width:"250px"}})))),v.a.createElement(de["a"],{span:12,style:{display:this.state.selectdisplay}},v.a.createElement(_e,{label:"\u65e5\u5fd7\u7ed3\u679c"},t("type",{})(v.a.createElement(fe["a"],{style:{width:80}},v.a.createElement(Ge,{value:"1"},"\u5168\u90e8"),v.a.createElement(Ge,{value:"2"},"\u5931\u8d25"))))),v.a.createElement(de["a"],{span:3,style:{paddingLeft:"block"==this.state.selectdisplay?"0%":"87.5%"}},v.a.createElement(ce["a"],{style:{display:"block"},onClick:this.handleFormReset},"\u91cd\u7f6e"))))),v.a.createElement(g["a"],{defaultActiveKey:"1",onChange:this.TableCallback.bind(),style:{paddingTop:"20px"}},v.a.createElement($e,{tab:"\u8bf7\u6c42\u7edf\u8ba1",key:"1"},v.a.createElement(D["a"],null,v.a.createElement(b["Suspense"],{fallback:null},v.a.createElement(Ue,{rangePickerValue:n,salesData:c,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate,rqfwl:this.state.rqfwl,flag:this.state.flag})))),v.a.createElement($e,{tab:"\u5931\u8d25\u7edf\u8ba1",key:"2"},v.a.createElement(D["a"],null,v.a.createElement(b["Suspense"],{fallback:null},v.a.createElement(Ue,{rangePickerValue:n,salesData:c,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate,rqfwl:this.state.rqfwl,flag:this.state.flag})))),v.a.createElement($e,{tab:"\u65e5\u5fd7\u5217\u8868",key:"3"},v.a.createElement(w["a"],{columns:m,dataSource:this.state.containerDataList,pagination:!1}),v.a.createElement(oe["a"],{style:{paddingTop:"24px",textAlign:"center"},showQuickJumper:!0,defaultCurrent:1,total:this.state.amount,onChange:this.onChange.bind()}))),v.a.createElement(j["a"],{title:this.state.titleMsg,placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info)))}}]),a}(b["PureComponent"]))||Ae)||Ae)||Ae),tt=et;function at(e){var t=nt();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}v.a.lazy(function(){return a.e(7).then(a.bind(null,"4S9z"))});var rt,lt,st=v.a.lazy(function(){return a.e(6).then(a.bind(null,"4VBN"))}),it=(v.a.lazy(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"CmJS"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"MdSA"))}),v.a.lazy(function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"52lG"))}),y["a"].Item),ot=fe["a"].Option,ct=q["a"].TextArea,dt=(me["a"].Group,pe["a"].MonthPicker,pe["a"].RangePicker),ut=g["a"].TabPane,pt=(Ke=Object(E["connect"])(function(e){var t=e.chart,a=e.loading;return{chart:t,loading:a.effects["chart/fetch"]}}),Je=Object(E["connect"])(function(e){var t=e.msalog,a=e.loading;return{msalog:t,loading:a.effects["msalog/fetch"]}}),Be=y["a"].create(),Ke(ze=Je(ze=Be(ze=function(e){u()(a,e);var t=at(a);function a(e){var n;return i()(this,a),n=t.call(this,e),n.TableCallback=function(e){console.log("===Tablekey==",e),n.setState({type:e},function(){n.TabsCallback(n.state.Tabskey)})},n.TabsCallback=function(e){console.log("===key==",e);var t=n.state.type;n.state.RqOrWebApp;console.log("===type==",t);var a=n.props,r=a.form.validateFieldsAndScroll,l=a.dispatch;r(function(a,r){console.log("====Formvalues===",r);r.Fwcheckbox,r.Rqcheckbox;var s=r.WebApp,i=r.time,o=r.type,c=r.reqId,d=(r.JKM,""),u="";if(void 0===i||"undefined"==i||0===i.length){for(var p=[],m=0;m<30;m++)p.unshift(new Date((new Date).setDate((new Date).getDate()-m)).toLocaleDateString());n.setState({thrityMonth:p});var f=p[0];d=(new Date).getTime();var h=f+" 00:00:00:000";h=h.substring(0,19),h=h.replace(/-/g,"/"),u=new Date(h).getTime()}else u=S()(i[0],"YYYY-MM-DD HH:mm:ss").valueOf(),d=S()(i[1],"YYYY-MM-DD HH:mm:ss").valueOf();var y=null;if(y=void 0===s?null:s.join(","),"3"==t){var g=["time",-1];n.setState({selectdisplay:"block",logType:o}),l({type:"msalog/findWebappLogList",payload:{filterId:null,StartTime:d,EndTime:u,limit:10,skip:0,type:void 0==o?1:1*o,Webapp:y,sort:g,reqID:void 0==c?null:c,fields:null},callback:function(e){if(console.log("=====182e=====",e),0===e.code){var t=e.data;console.log("msa=====",t.res),n.setState({data:t.res,amount:t.rescount,StartTime:d,EndTime:u,QueryWebAppName:y,QueryreqId:c})}else x["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})}else n.setState({selectdisplay:"none"}),l({type:"msalog/WebAppAggregatefetch",payload:{filterId:null,WebApp:y,StartTime:1*d,EndTime:1*u,type:1*t},callback:function(e){if(console.log("===216e=====",e),0===e.code){var t=e.data;n.setState({WebAppfwl:t.RqRes,flag:1})}else x["a"].error("webapp\u65e5\u5fd7\u67e5\u8be2\u5931\u8d25\uff01")}});n.setState({Tabskey:e})})},n.handleChangeSalesType=function(e){n.setState({salesType:e.target.value})},n.handleTabChange=function(e){n.setState({currentTabKey:e})},n.handleRangePickerChange=function(e){var t=n.props.dispatch;n.setState({rangePickerValue:e}),t({type:"chart/fetchSalesData"})},n.selectDate=function(e){var t=n.props.dispatch;n.setState({rangePickerValue:Object(ie["b"])(e)}),t({type:"chart/fetchSalesData"})},n.isActive=function(e){var t=n.state.rangePickerValue,a=Object(ie["b"])(e);return t[0]&&t[1]&&t[0].isSame(a[0],"day")&&t[1].isSame(a[1],"day")?M.a.currentDate:""},n.onClose=function(){n.setState({visible:!1})},n.handleFormReset=function(){var e=n.props,t=e.form;e.dispatch;t.resetFields(),n.setState({Fwcheckbox:"",JKM:"",time:"",Rqcheckbox:"",WebApp:""})},n.showModal=function(e,t,a,r){console.log("===reqId===",e);var l=[];1===r?(n.setState({titleMsg:"\u65e5\u5fd7\u8ddf\u8e2a"}),l.push(v.a.createElement(ne,{reqId:e,service:t,entry:a,StartTime:n.state.StartTime,EndTime:n.state.EndTime,key:Math.random()}))):2===r&&(n.setState({titleMsg:"\u8bf7\u6c42\u8be6\u60c5"}),l.push(v.a.createElement(G,{reqId:e,service:t,entry:a,StartTime:n.state.StartTime,EndTime:n.state.EndTime,key:Math.random()}))),n.setState({visible:!0,reqId:e,info:l})},n.onChange=function(e){console.log("Page: ",e),n.query(e)},n.query=function(e){console.log("=====363===");var t=["time",-1],a=n.props.dispatch;a({type:"msalog/findWebappLogList",payload:{filterId:null,StartTime:n.state.StartTime,EndTime:n.state.EndTime,limit:10,skip:10*(e-1),type:void 0==n.state.logType?1:1*n.state.logType,Webapp:n.state.QueryWebAppName,sort:t,reqID:void 0==n.state.QueryreqId?null:n.state.QueryreqId,fields:null},callback:function(e){if(console.log("====e377===",e),0===e.code){var t=e.data;console.log("msa=====",t.res),n.setState({data:t.res,amount:t.rescount})}else x["a"].error("\u67e5\u8be2\u65e5\u5fd7\u5217\u8868\u5931\u8d25\uff01")}})},n.state={div2:"block",div1:"none",salesType:"all",jkmDisabled:!1,currentTabKey:"",visible:!1,logType:1,QueryreqId:"",titleMsg:"",rangePickerValue:Object(ie["b"])("year"),cities:[],WFUService:{},WebAppfwl:[],QueryWebAppName:"",container:[],fwl:[],flag:"",monthkey:"",rqfwl:[],RqOrWebApp:"1",describe:"\u5c55\u5f00",IconType:"up",type:"1",ErrorRes:[],service:"",OpenService:"",expandForm:!1,disabled:"none",thrityMonth:[],rq_name:"",webapp_name:"",WebAppList:[]},n}return c()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"msalog/WebAppfetch",payload:{currentPage:1,pageSize:1e8,status:"",tags:"",name:""},callback:function(t){var a=[];for(var n in t.data.WebApp)a.push(n);e.setState({WebAppList:a})}}),this.TabsCallback("3")}},{key:"onOk",value:function(e){var t=this,a=this.props.dispatch,n=e._d.getTime();console.log("===(a._d)==",e._d),console.log("===timestamp2==",n),a({type:"msalog/accessFetch",payload:{time:n},callback:function(){var e=t.props,a=e.msalog;e.loading;console.log("msalog===",a)}})}},{key:"range",value:function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}},{key:"render",value:function(){for(var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.rangePickerValue,r=(a.salesType,a.currentTabKey,a.service,a.container,a.WebAppList),s=this.props,i=s.chart,o=s.loading,c=(i.visitData,i.visitData2,i.salesData),d=(i.searchData,i.offlineData,i.offlineChartData,i.salesTypeData,i.salesTypeDataOnline,i.salesTypeDataOffline,[]),u=0;u<r.length;u++)d.push(v.a.createElement(ot,{key:r[u]},r[u]));var p=function(e){return v.a.createElement(I["a"],{style:{width:"385px"}},v.a.createElement(ct,{rows:16,disabled:!0,value:e,style:{backgroundColor:"white",color:"rgba(0,0,0,0.65)"}}))},m=[{title:"\u65f6\u95f4",dataIndex:"time",key:"time",width:"15%",sorter:function(e,t){return e.time-t.time},render:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getDate(),r=t.getHours(),l=t.getMinutes();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),l>=0&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r),t.getFullYear()+"-"+a+"-"+n+" "+r+":"+l+":"+t.getSeconds()+"."+e.toString().substring(10,13)}},{title:"\u5e94\u7528\u4f4d\u7f6e",dataIndex:"addr",key:"addr",width:"20%"},{title:"\u670d\u52a1\u63a5\u53e3",dataIndex:"service",key:"service",width:"20%",render:function(e,t){return v.a.createElement("div",null,v.a.createElement("span",null,t.body.service+"#"+t.body.entry))}},{title:"\u8017\u65f6",dataIndex:"body",key:"body1",width:"10%",sorter:function(e,t){return e.time-t.time},render:function(e,t){return v.a.createElement("div",null,v.a.createElement("span",null,t.body.time))}},{title:"\u7ed3\u679c",dataIndex:"body",key:"body",width:"15%",render:function(e,t){return console.log("====text===",e),0===e.resCode?v.a.createElement(V["a"],{style:{color:"#52c41a"},type:"check"}):v.a.createElement("div",null,v.a.createElement(C["a"],{overlay:p(e.errMsg)},v.a.createElement("div",null,v.a.createElement("a",null,v.a.createElement("span",null,e.errMsg.substring(0,50)+"...")))))}},{title:"\u64cd\u4f5c",width:"20%",render:function(t,a){return console.log("=====record==",a),v.a.createElement(b["Fragment"],null,v.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,1)},"\u65e5\u5fd7\u8ddf\u8e2a"),v.a.createElement(ue["a"],{type:"vertical"}),v.a.createElement("a",{onClick:e.showModal.bind(e,a.body.reqId,a.body.service,a.body.entry,2)},"\u8bf7\u6c42\u8be6\u60c5"))}}];return v.a.createElement("div",{className:ye.a.standardList},v.a.createElement(l["a"],{bordered:!1},v.a.createElement(D["a"],{span:24},v.a.createElement(y["a"],{onSubmit:this.handleSearch,layout:"inline"},v.a.createElement(D["a"],{span:24},v.a.createElement(de["a"],{span:10},v.a.createElement(it,{label:"WebApp"},t("WebApp",{})(v.a.createElement(fe["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u8f93\u5165WebApp\u540d\u79f0\u6216\u8005\u9009\u62e9WebApp\u540d\u79f0\uff01",allowClear:!0},d)))),v.a.createElement(de["a"],{span:10},v.a.createElement(it,{label:"\u9009\u62e9\u65e5\u671f"},t("time",{})(v.a.createElement(dt,{showTime:{hideDisabledOptions:!0,defaultValue:[S()("00:00:00","HH:mm:ss"),S()("23:59:59","HH:mm:ss")]},style:{width:"250px"}})))),v.a.createElement(de["a"],{span:4},v.a.createElement(ce["a"],{type:"primary",onClick:this.TabsCallback.bind(this,"3")},"\u67e5\u8be2"))),v.a.createElement(D["a"],{span:24},v.a.createElement(de["a"],{span:10,style:{display:this.state.selectdisplay}},v.a.createElement(it,{label:"\u8bf7\u6c42  ID"},t("reqId",{})(v.a.createElement(q["a"],{style:{width:"250px"}})))),v.a.createElement(de["a"],{span:10,style:{display:this.state.selectdisplay}},v.a.createElement(it,{label:"\u65e5\u5fd7\u7ed3\u679c"},t("type",{})(v.a.createElement(fe["a"],{style:{width:80}},v.a.createElement(ot,{value:"1"},"\u5168\u90e8"),v.a.createElement(ot,{value:"2"},"\u5931\u8d25"))))),v.a.createElement(de["a"],{span:4,style:{paddingLeft:"block"==this.state.selectdisplay?"0%":"83.5%"}},v.a.createElement(ce["a"],{style:{display:"block"},onClick:this.handleFormReset},"\u91cd\u7f6e"))))),v.a.createElement(g["a"],{defaultActiveKey:"1",onChange:this.TableCallback.bind(),style:{paddingTop:"20px"}},v.a.createElement(ut,{tab:"\u8bf7\u6c42\u7edf\u8ba1",key:"1"},v.a.createElement(D["a"],null,v.a.createElement(b["Suspense"],{fallback:null},v.a.createElement(st,{rangePickerValue:n,salesData:c,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate,rqfwl:this.state.WebAppfwl,flag:this.state.flag})))),v.a.createElement(ut,{tab:"\u5931\u8d25\u7edf\u8ba1",key:"2"},v.a.createElement(D["a"],null,v.a.createElement(b["Suspense"],{fallback:null},v.a.createElement(st,{rangePickerValue:n,salesData:c,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate,rqfwl:this.state.WebAppfwl,flag:this.state.flag})))),v.a.createElement(ut,{tab:"\u65e5\u5fd7\u5217\u8868",key:"3"},v.a.createElement(w["a"],{columns:m,dataSource:this.state.data,pagination:!1}),v.a.createElement(oe["a"],{style:{paddingTop:"24px",textAlign:"center"},showQuickJumper:!0,defaultCurrent:1,total:this.state.amount,onChange:this.onChange.bind()})))),v.a.createElement(j["a"],{title:this.state.titleMsg,placement:"right",closable:!0,onClose:this.onClose,visible:this.state.visible},this.state.info))}}]),a}(b["PureComponent"]))||ze)||ze)||ze),mt=pt;function ft(e){var t=ht();return function(){var a,n=h()(e);if(t){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}function ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var yt=g["a"].TabPane,gt=(rt=y["a"].create(),rt(lt=function(e){u()(a,e);var t=ft(a);function a(e){var n;return i()(this,a),n=t.call(this,e),n.TabsCallback=function(e){if(console.log("===key==",e),"1"==e){var t=[];t.push(v.a.createElement(Ve,{key:Math.random()})),n.setState({Serviceinfo:t})}else if("2"==e){var a=[];a.push(v.a.createElement(tt,{key:Math.random()})),n.setState({Conatinerinfo:a})}else if("3"==e){var r=[];r.push(v.a.createElement(mt,{key:Math.random()})),n.setState({WebAppinfo:r})}},n.state={},n}return c()(a,[{key:"componentDidMount",value:function(){var e=[];e.push(v.a.createElement(Ve,{key:Math.random()})),this.setState({Serviceinfo:e})}},{key:"render",value:function(){return v.a.createElement("div",null,v.a.createElement(l["a"],{bordered:!1},v.a.createElement(g["a"],{defaultActiveKey:"1",onChange:this.TabsCallback.bind()},v.a.createElement(yt,{tab:"\u670d\u52a1",key:"1"},this.state.Serviceinfo),v.a.createElement(yt,{tab:"\u5bb9\u5668",key:"2"},this.state.Conatinerinfo),v.a.createElement(yt,{tab:"WebApp",key:"3"},this.state.WebAppinfo))))}}]),a}(b["PureComponent"]))||lt);t["default"]=gt}}]);