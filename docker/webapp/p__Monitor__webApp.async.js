(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[61],{XaXn:function(e,t,a){"use strict";a.r(t);a("2qtc");var n=a("kLXV"),l=(a("bbsP"),a("/wGt")),s=(a("DjyN"),a("NUBc")),o=(a("IzEo"),a("bx4M")),c=(a("OaEy"),a("2fM7")),r=(a("/zsF"),a("PArb")),i=(a("14J3"),a("BMrR")),p=(a("P2fV"),a("NJEC")),d=(a("jCWc"),a("kPKH")),u=(a("+L6B"),a("2/Rp")),m=(a("Pwec"),a("CtXQ")),h=(a("+BJd"),a("mr32")),b=(a("bP8k"),a("gFTJ")),v=(a("miYZ"),a("tsqr")),A=a("2Taf"),y=a.n(A),f=a("vZ4D"),E=a.n(f),k=a("MhPg"),g=a.n(k),w=a("l4Ni"),S=a.n(w),C=a("ujKo"),x=a.n(C),W=(a("y8nQ"),a("Vl3Y")),T=(a("sRBo"),a("kaz8")),X=(a("5NDa"),a("5rEg")),D=a("q1tI"),Z=a.n(D),F=a("MuoO"),P=(a("Y2fQ"),a("+kNj")),O=a("Mz3c"),z=a("yahW"),Y=a("hbCE"),B=a("PlbF"),L=a("Y+p1"),_=a.n(L),K=a("aWA2"),N=a.n(K),M=a("f82a"),Q=a.n(M),R=a("AMvv"),J=a("P4xi"),I=a("6Hmz");function U(e){var t=j();return function(){var a,n=x()(e);if(t){var l=x()(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return S()(this,a)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}Z.a.lazy(function(){return Promise.all([a.e(0),a.e(2)]).then(a.bind(null,"3yow"))}),P["a"].Description,X["a"].Search,X["a"].TextArea,T["a"].Group;var V=W["a"].Item,q=I["a"].YXJK_WebAppFX_RZPZ_YXXX.key,G=I["a"].YXJK_WebAppFX_CSPZ_CX.key,H=I["a"].YXJK_WebAppFX_SzAcl_CX.key,$=I["a"].YXJK_WebAppFX_BDLY_CX.key,ee=I["a"].YXJK_WebAppFX_RZPZ_CX.key,te=I["a"].YXJK_WebAppFX_RZPZ_DEL.key,ae=["\u7f51\u7ad9","\u4ea4\u6613"],ne=function(e){g()(a,e);var t=U(a);function a(){var e;y()(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l)),e.state={checkedList:ae,indeterminate:!0,div3:"none",div1:"block",div2:"none",div4:"none",div5:"none",checkAll:!1,visible:!1,Drawervisible:!1,plainOptions:[],WebAppUrl:"",mess:"",wv:"",WebName:"",WebTags:"",urltags:"",WebAppStatue:"",WebAppTotalAmount:0,startwv:"",TotalAmount:0,SXAmount:0,YCAmount:0,ZCAmount:0,KZFAmount:0,BQvisible:!1,AddBQvisible:"",noTitleKey:"service",name:"",type:"",status:"",app:"",XZcheckedList:"",YsplainOptions:[],UrlPlainOptions:[],webappmap:{}},e.Tags=function(){var t=e.props.dispatch;t({type:"webApp/Tagsfetch",payload:{app:null,type:null},callback:function(t){console.log("===e====11==",t),0==t.code?e.setState({plainOptions:t.data}):v["a"].error("\u67e5\u8be2\u6807\u7b7e\u6570\u636e\u5931\u8d25\uff01")}})},e.showDrawer=function(t,a){console.log("===url==",a),e.setState({Drawervisible:!0,WebAppUrl:a});var n=[];"acl"==t?(e.setState({mess:"\u8bbe\u7f6eACL"}),n.push(Z.a.createElement(O["a"],{url:a,key:Math.random()}))):"bdly"==t?(e.setState({mess:"\u672c\u5730\u8def\u7531"}),n.push(Z.a.createElement(z["a"],{url:a,key:Math.random()}))):"cspz"==t?(e.setState({mess:"\u53c2\u6570\u914d\u7f6e"}),n.push(Z.a.createElement(R["a"],{msg:"WebApp",url:a,key:Math.random()}))):"rzpz"==t?(e.setState({mess:"\u65e5\u5fd7\u914d\u7f6e"}),n.push(Z.a.createElement(Y["a"],{url:a,key:Math.random()}))):"yxxx"==t&&(e.setState({mess:"\u8fd0\u884c\u4fe1\u606f"}),n.push(Z.a.createElement(B["a"],{url:a,msg:"webapp",key:Math.random()}))),e.setState({info:n})},e.onClose=function(){e.setState({Drawervisible:!1})},e.showModal=function(t,a,n,l,s){e.setState({BQvisible:!0,name:t,type:a,status:n,app:l,optionsWithDisabled:s,XZcheckedList:s})},e.handleOk=function(t){e.setState({BQvisible:!1});var a=e.props,n=a.form.validateFieldsAndScroll,l=a.dispatch;n(function(t,a){var n=e.state.XZcheckedList;console.log("===optionsWithDisabled==",n),console.log("===values==",a),"undefined"===n||void 0==n||0==n.length?(console.log("-----"),l({type:"webApp/add",payload:{app:"app",type:"WebApp",name:e.state.name,value:" ",status:0,tags:a.checkbox?a.checkbox:[]},callback:function(t){0===t.code?v["a"].success("\u65b0\u589e\u6807\u7b7e\u6210\u529f\uff01"):v["a"].error("\u65b0\u589e\u6807\u7b7e\u5931\u8d25\uff01"),e.handleSearch()}})):l({type:"webApp/update",payload:{app:e.state.app,name:e.state.name,status:1*e.state.status,type:e.state.type,value:" ",tags:a.checkbox?a.checkbox:[]},callback:function(t){0===t.code?v["a"].success("\u4fee\u6539\u6807\u7b7e\u6210\u529f\uff01"):v["a"].error("\u4fee\u6539\u6807\u7b7e\u5931\u8d25\uff01"),e.handleSearch()}})})},e.handleCancel=function(t){console.log(t),e.setState({BQvisible:!1})},e.AddTagsshowModal=function(){e.setState({AddBQvisible:!0})},e.AddTagshandleOk=function(t){console.log(t),e.setState({AddBQvisible:!1});var a=e.props,n=a.form.validateFieldsAndScroll;a.dispatch;n(function(t,a){if(console.log("==values==",a),"undefined"!==a.AddCheckbox&&void 0!==a.AddCheckbox&&"null"!==a.AddCheckbox){var n=new Array;n=e.state.plainOptions,console.log("---this.state.plainOptions---",n),n.push(a.AddCheckbox),console.log("---ar---",n),e.setState({plainOptions:n})}else v["a"].error("\u8bf7\u586b\u5199\u65b0\u589e\u52a0\u7684\u6807\u7b7e\uff01")})},e.onChange=function(t){var a=e.props.dispatch,n=e.state.WebAppStatue;a({type:"webApp/fetch",payload:{currentPage:t,pageSize:5,status:""==e.state.WebAppStatue?null:e.state.WebAppStatue,name:""==e.state.WebName?null:e.state.WebName,tags:""==e.state.WebTags?null:e.state.WebTags},callback:function(){var t=e.props,a=(t.loading,t.webApp),l=a.data.datas.WebApp;console.log("------webApp---",a);var s=0;s=1===n?a.data.datas.YCAmount:2===n?a.data.datas.SXAmount:0===n?a.data.datas.ZCAmount:4===n?a.data.datas.KZFAmount:a.data.datas.TotalAmount,e.setState({wv:l,startwv:l,TotalAmount:s,WebAppTotalAmount:a.data.datas.TotalAmount,SXAmount:a.data.datas.SXAmount,YCAmount:a.data.datas.YCAmount,ZCAmount:a.data.datas.ZCAmount,KZFAmount:a.data.datas.KZFAmount})}})},e.AddTagshandleCancel=function(t){console.log(t),e.setState({AddBQvisible:!1})},e.handleSearch=function(t){t&&t.preventDefault();e.state.options;var a=e.props,n=(a.dispatch,a.form);new Array;n.validateFields(function(t,a){console.log("=====values===",a);var n=a.Allcheckbox,l=a.URL,s=e.props.dispatch;s({type:"webApp/fetch",payload:{currentPage:1,pageSize:5,status:""==e.state.WebAppStatue?null:e.state.WebAppStatue,tags:void 0==n||""==n?null:n.join(","),name:void 0==l||""==l?null:l},callback:function(t){var a=e.props,s=(a.loading,a.webApp);console.log("====webApp==",s),console.log("------e334---",t.data.WebApp),0===t.code?(console.log("====222===="),e.setState({WebName:void 0===l?"":l,WebTags:void 0===n?"":n.join(","),WebAppTotalAmount:t.data.TotalAmount,TotalAmount:t.data.TotalAmount,SXAmount:t.data.SXAmount,YCAmount:t.data.YCAmount,ZCAmount:t.data.ZCAmount,KZFAmount:t.data.KZFAmount,webappmap:t.data.WebApp},function(){console.log("====333====")}),v["a"].success("\u67e5\u8be2WebApp\u5217\u8868\u6210\u529f\uff01")):v["a"].error("\u67e5\u8be2WebApp\u5217\u8868\u5931\u8d25\uff01")}})})},e.TabQuery=function(e){console.log("===status===",e)},e.remove=function(t){console.log("=====url===",t);var a=e.props.dispatch;a({type:"webApp/removeWebApp",payload:{url:t},callback:function(t){console.log("=====e====",t),0===t.code?v["a"].success("\u5220\u9664\u6210\u529f\uff01"):v["a"].error("\u5220\u9664\u5931\u8d25\uff01"),e.handleSearch()}})},e.TabSwitch=function(t){console.log("===flag===",t);e.props.dispatch;-1===t?e.setState({div1:"block",div3:"none",div2:"none",div4:"none",div5:"none",WebAppStatue:""},function(){return e.handleSearch()}):2===t?e.setState({div1:"none",div2:"block",div3:"none",div4:"none",div5:"none",WebAppStatue:"2"},function(){return e.handleSearch()}):1===t?e.setState({div1:"none",div2:"none",div3:"block",div4:"none",div5:"none",WebAppStatue:"1"},function(){return e.handleSearch()}):0===t?e.setState({div1:"none",div2:"none",div3:"none",div4:"block",div5:"none",WebAppStatue:"0"},function(){return e.handleSearch()}):4===t&&e.setState({div1:"none",div2:"none",div4:"none",div3:"none",div5:"block",WebAppStatue:"4"},function(){return e.handleSearch()})},e}return E()(a,[{key:"componentDidMount",value:function(){this.props.dispatch;this.handleSearch(),this.Tags()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,v=a.plainOptions,A=(a.UrlPlainOptions,a.webappmap);if(""==v);else for(var y=[],f=0;f<v.length;f++)y.push(Z.a.createElement(Option,{key:v[f]},v[f]));console.log("===webappmap===",A);var E=[{key:"service",tab:"WebAPP\u5217\u8868"}],k={service:Z.a.createElement("div",null,0===Object.keys(A).length?Z.a.createElement("div",{style:{textAlign:"center"}},"\u6682\u65e0\u6570\u636e"):Object.keys(A).map(function(t,a){console.log("===v475===",t);var n=A[t];return console.log("===webappservice==",n),Z.a.createElement(Z.a.Fragment,null,Z.a.createElement(b["a"],{column:4},Z.a.createElement(b["a"].Item,{label:"URL",span:2},Z.a.createElement("span",null,t)),Z.a.createElement(b["a"].Item,{label:"\u6807\u7b7e",span:2},Z.a.createElement("span",null," ",n.tag.map(function(e){return Z.a.createElement(h["a"],{color:"blue",key:e}," ",e," ")})),Z.a.createElement("a",{onClick:e.showModal.bind(e,t,n.type,n.status,n.app,n.tag)},Z.a.createElement(m["a"],{type:"edit"}))),Z.a.createElement(b["a"].Item,{label:"\u662f\u5426\u80fd\u591f\u8f6c\u53d1\u8bf7\u6c42",span:2},Z.a.createElement("span",null,n.gateway?"\u662f":"\u5426")),Z.a.createElement(b["a"].Item,{label:"\u72b6\u6001"},0===n.csstatus?Z.a.createElement("span",{style:{color:"#52c41a"}},"\u6b63\u5e38"):1===n.csstatus?Z.a.createElement("span",{style:{color:"#1890ff"}},"\u5ef6\u8fdf"):2===n.csstatus?Z.a.createElement("span",{style:{color:"#ff4d4f"}},"\u5931\u6548"):"")),Z.a.createElement(i["a"],{span:24,style:{marginTop:"24px"}},Z.a.createElement(d["a"],{span:4},Z.a.createElement(u["a"],{size:"small",type:"primary",disabled:0!==n.csstatus,onClick:function(a){a&&a.preventDefault(),J["a"].checkAuthAndExecute(e.props.dispatch,q,e.showDrawer.bind(e,"yxxx",t),[])}},"\u8fd0\u884c\u4fe1\u606f")),Z.a.createElement(d["a"],{span:4},Z.a.createElement(u["a"],{size:"small",type:"primary",disabled:0!==n.csstatus,onClick:function(a){a&&a.preventDefault(),J["a"].checkAuthAndExecute(e.props.dispatch,G,e.showDrawer.bind(e,"cspz",t),[])}},"\u53c2\u6570\u914d\u7f6e")),Z.a.createElement(d["a"],{span:4},Z.a.createElement(u["a"],{size:"small",type:"primary",disabled:0!==n.csstatus,onClick:function(a){a&&a.preventDefault(),J["a"].checkAuthAndExecute(e.props.dispatch,H,e.showDrawer.bind(e,"acl",t),[])}},"\u8bbe\u7f6eACL")),Z.a.createElement(d["a"],{span:4},Z.a.createElement(u["a"],{size:"small",type:"primary",disabled:0!==n.csstatus,onClick:function(a){a&&a.preventDefault(),J["a"].checkAuthAndExecute(e.props.dispatch,$,e.showDrawer.bind(e,"bdly",t),[])}},"\u672c\u5730\u8def\u7531")),Z.a.createElement(d["a"],{span:4},Z.a.createElement(u["a"],{size:"small",type:"primary",disabled:0!==n.csstatus,onClick:function(a){a&&a.preventDefault(),J["a"].checkAuthAndExecute(e.props.dispatch,ee,e.showDrawer.bind(e,"rzpz",t),[])}},"\u65e5\u5fd7\u914d\u7f6e")),Z.a.createElement(d["a"],{span:4},Z.a.createElement(p["a"],{title:Z.a.createElement("div",null,Z.a.createElement("span",null,"\u60a8\u786e\u8ba4\u8981\u5220\u9664\uff1a"),Z.a.createElement("br",null),Z.a.createElement("span",null,t)),onConfirm:function(a){a&&a.preventDefault(),J["a"].checkAuthAndExecute(e.props.dispatch,te,e.remove.bind(e,t),[])},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},Z.a.createElement(u["a"],{size:"small",type:"danger"},"\u5220    \u9664")))),Z.a.createElement(r["a"],null))}))},g=function(e){var t=e.title,a=e.value,n=e.bordered;return Z.a.createElement("div",{className:N.a.headerInfo},Z.a.createElement("span",null,t),Z.a.createElement("p",null,a),n&&Z.a.createElement("em",null))};return Z.a.createElement("div",null,Z.a.createElement(i["a"],{span:24},Z.a.createElement(o["a"],null,Z.a.createElement(W["a"],{layout:"inline"},Z.a.createElement(d["a"],{span:11},Z.a.createElement(V,{label:"\u6807\u7b7e"},t("Allcheckbox",{})(Z.a.createElement(c["a"],{mode:"tags",style:{width:"250px"},placeholder:"\u8bf7\u9009\u62e9\u6807\u7b7e\uff01",allowClear:!0},y)))),Z.a.createElement(d["a"],{span:11},Z.a.createElement(V,{label:"URL"},t("URL",{})(Z.a.createElement(X["a"],{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0\uff01",style:{width:"350px"}})))),Z.a.createElement(d["a"],{md:2,style:{marginTop:"4px"}},Z.a.createElement("span",null,Z.a.createElement(u["a"],{type:"primary",htmlType:"submit",onClick:this.handleSearch},"\u67e5\u8be2")))))),Z.a.createElement("div",{className:N.a.standardList,style:{marginTop:"24px"}},Z.a.createElement(o["a"],{bordered:!1},Z.a.createElement(i["a"],null,Z.a.createElement(d["a"],{onClick:this.TabSwitch.bind(this,-1),style:{width:"20%",cursor:"pointer"},xs:24},Z.a.createElement(g,{title:"WebApp\u603b\u6570",value:this.state.WebAppTotalAmount,bordered:!0}),Z.a.createElement("div",{style:{display:this.state.div1},className:Q.a.hx})),Z.a.createElement(d["a"],{onClick:this.TabSwitch.bind(this,2),style:{width:"20%",cursor:"pointer"},xs:24},Z.a.createElement(g,{title:"\u5931\u6548WebApp",value:this.state.SXAmount,bordered:!0}),Z.a.createElement("div",{style:{display:this.state.div2},className:Q.a.hx})),Z.a.createElement(d["a"],{onClick:this.TabSwitch.bind(this,1),style:{width:"20%",cursor:"pointer"},xs:24},Z.a.createElement(g,{title:"\u5ef6\u8fdfWebApp",value:this.state.YCAmount,bordered:!0}),Z.a.createElement("div",{style:{display:this.state.div3},className:Q.a.hx})),Z.a.createElement(d["a"],{onClick:this.TabSwitch.bind(this,0),style:{width:"20%",cursor:"pointer"},xs:24},Z.a.createElement(g,{title:"\u6b63\u5e38WebApp",value:this.state.ZCAmount,bordered:!0}),Z.a.createElement("div",{style:{display:this.state.div4},className:Q.a.hx})),Z.a.createElement(d["a"],{onClick:this.TabSwitch.bind(this,4),style:{width:"20%",cursor:"pointer"},xs:24},Z.a.createElement(g,{title:"\u53ef\u8f6c\u53d1",value:this.state.KZFAmount}),Z.a.createElement("div",{style:{display:this.state.div5},className:Q.a.hx}))))),Z.a.createElement(o["a"],{bordered:!1,style:{width:"100%",marginTop:"24px"},tabList:E},k[this.state.noTitleKey],Z.a.createElement(s["a"],{showQuickJumper:!0,defaultCurrent:1,style:{paddingTop:"24px",textAlign:"center"},defaultPageSize:5,total:this.state.TotalAmount,onChange:this.onChange.bind()})),Z.a.createElement(l["a"],{width:1100,closable:!0,onClose:this.onClose,visible:this.state.Drawervisible,title:Z.a.createElement("div",null,Z.a.createElement("span",{style:{color:"#1890FF"}},this.state.mess),"\uff1a",this.state.WebAppUrl)},Z.a.createElement("div",null,this.state.info)),Z.a.createElement(n["a"],{destroyOnClose:!0,title:"\u7f16\u8f91\u6807\u7b7e",visible:this.state.BQvisible,onOk:this.handleOk,onCancel:this.handleCancel},Z.a.createElement("div",{style:{display:"flex"}},Z.a.createElement(W["a"].Item,{label:"\u589e\u52a0\u65b0\u6807\u7b7e",style:{display:"flex"}},t("AddCheckbox",{})(Z.a.createElement(X["a"],null))),Z.a.createElement(u["a"],{style:{marginTop:"3px",marginLeft:"5%"},onClick:this.AddTagshandleOk,type:"primary"},"\u6dfb\u52a0\u65b0\u6807\u7b7e")),Z.a.createElement("div",null,Z.a.createElement(W["a"].Item,{label:"\u6807\u7b7e",style:{display:"flex"}},t("checkbox",{initialValue:this.state.XZcheckedList})(Z.a.createElement(T["a"].Group,{options:this.state.plainOptions,onChange:this.BQonChange}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return _()(e.value,t.value)?null:{data:e.value,value:e.value}}}]),a}(D["PureComponent"]);t["default"]=Object(F["connect"])(function(e){return e.ss})(W["a"].create()(ne))}}]);